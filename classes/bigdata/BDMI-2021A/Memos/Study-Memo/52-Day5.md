# BDMI Day5

`Student No.52`

# SQL

什么是SQL？简单地说，SQL就是访问和处理关系数据库的计算机标准语言。也就是说，无论用什么编程语言（Java、Python、C++……）编写程序，只要涉及到操作关系数据库，比如，一个电商网站需要把用户和商品信息存入数据库，或者一个手机游戏需要把用户的道具、通关信息存入数据库，都必须通过SQL来完成。

所以，现代程序离不开关系数据库，要使用关系数据库就必须掌握SQL。

SQL语言：

* 数据定义语言（DDL）
  * 定义数据表的模式
  * 创建、修改、删除数据表及其属性
  * 索引，试图等等
* 数据操作语言（DML）
  * 查询单表和多表
  * 插入、删除、修改数据表的元组
* 数据控制语言（DCL）

一些细节

* SQL命令是大小写无关的
* 输入值是大小写相关的
* 属性值是大小写敏感的
* 使用单引号表示常数

## 关系模型

### 主键

主键是关系表中记录的唯一标识。主键的选取非常重要：主键不要带有业务含义，而应该使用BIGINT自增或者GUID类型。主键也不应该允许`NULL`。

可以使用多个列作为联合主键，但联合主键并不常用。

### 外键

关系数据库通过外键可以实现一对多、多对多和一对一的关系。外键既可以通过数据库来约束，也可以不设置约束，仅依靠应用程序的逻辑来保证。

### 索引

无论是否创建索引，对于用户和应用程序来说，使用关系数据库不会有任何区别。这里的意思是说，当我们在数据库中查询时，如果有相应的索引可用，数据库系统就会自动使用索引来提高查询效率，如果没有索引，查询也能正常执行，只是速度会变慢。因此，索引可以在使用数据库的过程中逐步优化。

## 查询数据

`NOT`条件`NOT class_id = 2`其实等价于`class_id <> 2`，因此，`NOT`查询不是很常用。

```sql
CREATE TABLE table	--表名
(
	c1 INT,		--列1
	c2 INT		--列2
)；
```

* 连接操作

  * 内连接：`INNER JOIN`
  * 左连接：`LEFT JOIN`
  * 右连接：`RIGHT JOIN`
  * 全连接：`FULL JOIN`

  ```sql
  SELECT * FROM A表 连接类型 B表 ON(条件)
  ```

  * 注意INNER JOIN查询的写法是：

  1. 先确定主表，仍然使用`FROM <表1>`的语法；
  2. 再确定需要连接的表，使用`INNER JOIN <表2>`的语法；
  3. 然后确定连接条件，使用`ON <条件...>`，这里的条件是`s.class_id = c.id`，表示`students`表的`class_id`列与`classes`表的`id`列相同的行需要连接；
  4. 可选：加上`WHERE`子句、`ORDER BY`等子句。

![image-20211020152042366](https://i.loli.net/2021/10/20/qQHS147po8ijXBt.png)

* 创建索引

  * 索引是一种特殊的数据结构，加快数据查询

  * 单列索引：基于表的一个列上创建的索引

    ```sql
    CREATE INDEX index_name ON table_name(column_name);
    ```

  * 组合索引：基于表的多个列创建的索引

    ```sql
    CREATE INDEX index_name ON table_name(col1, col2);
    ```

  * 删除索引

    ```sql
    DROP INDEX index_name
    ```

# Tkinter

* 控件
  * Menu
  * Button
  * Canvas
  * Checkbutton
  * Entry
  * Label
  * Frame