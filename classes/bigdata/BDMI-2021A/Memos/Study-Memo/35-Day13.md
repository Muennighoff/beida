# 循环神经网络（RNN）文本生成

・读取数据

・处理文本

・创建模型

・训练模型

・生成文本

 

# 语音识别例子

#### 人工智能-智能音箱

・“智能”＋音箱:

> ・交互性：可以语音控制 
>
> ・灵性化：语音助手，可以对话交流等 

・工作流程:

> ・语音指令唤醒音箱 
>
> ・语音指令与提问录音， 上传云端  
>
> ・云端处理：意图理解，生成问题的回答（文本）
>
> ・回答返回音箱，语音合成，音箱播放 



#### 人工智能一典型案例一智能音箱 

・智能音箱的核心技术：语音交互 

> ・语音识别 
>
> ・语音合成
>
> ・自然语言处理 

・语音识别（Automatic Speech Recognition) (ASR) 

> ・语音（信号波形）令文字（自然语言） 

・语音合成（Text To Speech)(ITS) 

> ・文字（自然语言）令语音（信号波形）

・大致在2011年，基于深度学习的语音识别与语音合成技术的突破， 使得智能音箱产业成为可能 



#### 智能音箱一工作原理一语音识别一信号变换 

・语音信号是时变信号 

・声音的波形图 

・将波形文件通过STFFT变换 

・保留了时间与频域的信息 



#### 深度学习方法一语音识别 

・用深度神经网络进行端到端的处理 

> ・语音信号直接变换为文本输出

・语音模型训练＋语音模型部署

> ・用大量的语料（即语音与文本的对应数据） 



#### 深度学习一语音识别与语音合成 

・人机语音交互（Voice Interaction) 

> ・语音识别（ASR) 
>
> ・语音合成（TTS)

 ・成功的国内企业 

> ・科大讯飞／思必驰／捷通华声 
>
> ・出门问问／普强Pach Ira 

・成熟的国内产品 

> ・天猫精灵、小米音箱、百度小度音箱等 



#### 语音音箱的特点

・依赖于网络，更好的语义理解。

・受制于网络。

・个人开发者依赖于网络的提供商 



# 语音识别

#### 导学

・语音识别的原理 
・语音识别的评判指标 
・语音识别的经典方法 
・连接主义的时间分类CTC原理 
・端到端语音识别系统DeepSpeech2 



#### 名词术语（了解） 

・语音识别（Speech Recognition) 

・自动语音识另’」(Automatic Speech Recognition, ASR) 

・傅里叶变换（FFT） 

・时频谱（Spectrogram) 

・声学模型（Acoustic Model) 

・语言模型（Language Model)

・ 词错误率（Word Error Rate, WER) 

・端到端的语音识别模型（End-to-End) 

・自然语言处理（Natural Language Processing, NLP) 

・鸡尾酒会问题（cocktail party）

・中文话（Mandarin）

・词错误率（Word Error Rate, WER) 

・连接主义的时间分类（Connectionist temporal classification, CTC) 

・CTC折叠（CTC Collapsing) 

・大词汇量连续语音识别系统（Large Vocabulary Continuous Speech Recognition,LVCSR) 

・深度语音2 (DeepSpeech2) 



#### ASR的挑战问题 

・口音，语气，腔调，感情 

・说话的方式 

・词汇表的大小，同音词 

・噪声，录音质量 

・鸡尾酒会问题（cocktail party) 



#### 语音识别的对象

・语音信号是声波 

・语音信号的表示 

> ・波形图（Waveform) 
>
> > ・语音信号是时变信号
>
> ・频率图（Frequency) 
>
> > ・FFT（快速傅里叶变换）
>
> ・时频谱（Spectrogram) 
>
> > ・将波形文件通过STFFT变换 
> >
> > ・优点：保留了时间与频域的信息 



#### 评价指标一词错误率WER 

・词错误率（Word Error Rate, WER) 

・计算方法 

> ・将标准答案和识别结果对齐
>
> ・错误率等于替换、插入、删除的总数除以标准答案长度
>
> ・对齐应使错误率最小 



#### 评价指标一词错误率WER ( 例子1 )

・标准答案："my name is Andy Chen" 
・识别成："my **nick** name **are** Andy"  插入错误、替换错误和删除错误 
・词错误率：3/5=60% 
・注意：最优对齐方法不止一种。 

#### 评价指标一词错误率WER ( 例子2 )

・WER可能高于1 
・比如： 
・标准答案：recognize speech
・识别结果：wreck a nice beach 
・错误率：4/2=200% 



#### 语音识别的传统技术架构

・经典的语音识别过程 

> ・语音信号经过**傅里叶变换STFFT**，把**连续语音**时间上分解成一组**短期向量**，然后应用各种变换把这个**向量序列**变换为一个**音素序列**，然后变换到**字母序列**，然后到**词汇序列**。



#### 语音识别-深度学习

端至端的语音识别模型（End-to- End) 

・端到端语音识别流水线由三个主要部分组成：特征提取、声学模型、语言模型 

> 1．将原始音频信号（如wav文件）作为输入，并产生特征向量序列，给定音频输入帧的特征向量。特征提取的输出示例包括原始波形、频谱图和时频谱图。 
>
> 2．将特征向量序列作为输入，并产生以特征向量输入为条件的字符或音素序列的概率（声学模型）。 
>
> 3．生成的不同序列（在受到语言模型中编码的语言规则约束的声学模型），搜索其中最可能的转录。 



#### 循环网络语音识别

用RNN处理语音识别的主要贡献点 
・CTC (Connectionist temporal classification) 

・连接主义的时间分类 

> ・语音与文字对齐的问题，解决了语料标注
>
> ・端到端系统做好准备 